# Отчет по базе данных "teatre"

## Обзор структуры базы данных

База данных "teatre" предназначена для управления театральными представлениями, билетами, кассирами и зрителями. Она состоит из следующих основных таблиц:

### Основные таблицы

1. **predstavlenie** - содержит информацию о театральных представлениях
2. **mesto** - места в театре
3. **ticket** - билеты на представления
4. **kassir** - кассиры театра
5. **zritel** - зрители
6. **admins** - администраторы системы
7. **logger** - журнал изменений

### Представления (views)

1. **dolzhnost** - должности кассиров
2. **dolzhnosta** - расширенная информация о должностях кассиров

### Функции

1. **deskription_predstav()** - возвращает описание представлений
2. **kassir()** - возвращает должности кассиров
3. **price_ticket()** - возвращает информацию о местах
4. Функции логирования изменений в таблицах:
   - log_admins()
   - log_mesto()
   - log_predstavlenie()
   - log_zritel()

## Анализ данных

### Представления (5 записей)
```
1 | maks       | 2000-03-02 | lily
2 | temmmi     | 2020-05-01 | ullu
3 | fall       | 2021-12-10 | pol
4 | juju\n     | 2005-12-21 | grag
5 | kryaz      | 2021-10-30 | lol
```

### Места (5 записей)
```
1 | grogo
2 | grigo
3 | kiany
4 | lolpoa
5 | kiya
```

### Билеты (5 записей)
```
1 | 1 | 10.00 | 1 | 2025-12-02
2 | 2 | 10.00 | 2 | 2025-10-21
3 | 3 | 11.00 | 3 | 2025-10-23
4 | 4 | 12.00 | 4 | 2025-12-14
5 | 5 | 14.00 | 5 | 2025-08-12
```

### Кассиры (5 записей, все активны)
```
1 | fti  | hi[ppp | kassir | t
2 | geniy| grogo  | kassir | t
3 | fola | horo   | kassir | t
4 | kola | horo   | kassir | t
5 | keke | jojja  | kassir | t
```

### Зрители (5 записей)
```
1 | kolya  | glushko | pasport
2 | grogo  | grishko | pasport
3 | fsrhst | lolorma | pasport
4 | hoto   | tommy   | pasport
5 | kolya  | jojo    | pasport
```

### Администраторы (1 запись)
```
1 | admin | 0000
```

## Выводы

1. База данных содержит полный набор информации для управления театральными представлениями и продажей билетов.
2. Имеется система логирования изменений в основных таблицах.
3. Для кассиров реализован механизм "мягкого" удаления через флаг `visible`.
4. Цены на билеты варьируются от 10.00 до 14.00 (вероятно, в условных единицах).
5. В системе зарегистрирован один администратор с логином "admin" и паролем "0000".

## Рекомендации

1. Рассмотреть возможность хеширования паролей администраторов.
2. Добавить индексы для ускорения поиска по часто используемым полям.
3. Рассмотреть возможность нормализации таблицы мест (mesto) для поддержки различных типов мест (партер, балкон и т.д.).
4. Добавить проверки целостности данных, например, что дата продажи билета не раньше даты представления.
